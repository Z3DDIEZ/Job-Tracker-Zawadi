<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A simple job application tracker to help you manage your job applications, interviews, and offers. Built with HTML, CSS, JavaScript, and Firebase Realtime Database.">
    <title>Job Application Tracker | Zawadi MC Nyachiya</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="alternate icon" href="/favicon.ico">
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.gstatic.com https://*.firebaseio.com https://*.firebasedatabase.app; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self' https://*.firebaseio.com https://*.firebasedatabase.app wss://*.firebaseio.com wss://*.firebasedatabase.app https://www.gstatic.com; font-src 'self' data:;">
    <!-- Link to CSS stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <!-- Header -->
    <header>
        <h1>Job Application Tracker | Zawadi MC Nyachiya</h1>
        <p>Track your applications, interviews, and offers</p>
    </header>

    <!-- Main Container -->
    <main>
        <!-- Add Application Form Section -->
        <section id="form-section">
            <h2>Add New Application</h2>
            <form id="application-form">
                <div class="form-group">
                    <label for="company">Company Name *</label>
                    <input 
                        type="text" 
                        id="company" 
                        name="company" 
                        placeholder="e.g., Google, Microsoft" 
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label for="role">Job Role *</label>
                    <input 
                        type="text" 
                        id="role" 
                        name="role" 
                        placeholder="e.g., Software Engineer, Data Analyst" 
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label for="date">Date Applied *</label>
                    <input 
                        type="date" 
                        id="date" 
                        name="date" 
                        required
                    >
                </div>
                
                <div class="form-group">
                    <label for="status">Application Status *</label>
                    <select id="status" name="status" required>
                        <option value="">Select status...</option>
                        <option value="Applied">Applied</option>
                        <option value="Phone Screen">Phone Screen</option>
                        <option value="Technical Interview">Technical Interview</option>
                        <option value="Final Round">Final Round</option>
                        <option value="Offer">Offer</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>
                
                <div class="checkbox-group">
                    <label>
                        <input 
                            type="checkbox" 
                            id="visa" 
                            name="visa"
                        >
                        <span>Visa Sponsorship Available</span>
                    </label>
                </div>
                
                <button type="submit" id="submit-btn">
                    <span>Add Application</span>
                </button>
                
                <button 
                    type="button" 
                    id="cancel-btn" 
                    class="btn-cancel" 
                    style="display: none;"
                >
                    Cancel Edit
                </button>
            </form>
        </section>

        <!-- View Toggle - Always Visible -->
        <section id="view-toggle-section" class="view-toggle-section">
            <div class="view-toggle">
                <label>View Mode:</label>
                <div class="view-toggle-buttons">
                    <button class="view-toggle-btn active" data-view="cards" id="view-cards-btn">ðŸ“‹ Cards</button>
                    <button class="view-toggle-btn" data-view="table" id="view-table-btn">ðŸ“Š Table</button>
                    <button class="view-toggle-btn" data-view="analytics" id="view-analytics-btn">ðŸ“ˆ Analytics</button>
                </div>
            </div>
        </section>

        <!-- Analytics Dashboard Section -->
        <section id="analytics-section" class="analytics-dashboard" style="display: none;">
            <h2>Analytics Dashboard</h2>
            <div id="stats-grid" class="stats-grid"></div>
            <div id="charts-container"></div>
        </section>

        <!-- Applications Display Section -->
        <section id="applications-section">
            <div class="section-header">
                <h2>My Applications</h2>
            </div>
            
            <!-- Advanced Filters -->
            <div class="advanced-filters">
                <div class="filter-group">
                    <label for="search-input">Search</label>
                    <input 
                        type="text" 
                        id="search-input" 
                        placeholder="Search by company or role..." 
                        class="search-input"
                    >
                </div>
                
                <div class="filter-group">
                    <label for="status-filter">Status</label>
                    <select id="status-filter" class="status-filter">
                        <option value="all">All Statuses</option>
                        <option value="Applied">Applied</option>
                        <option value="Phone Screen">Phone Screen</option>
                        <option value="Technical Interview">Technical Interview</option>
                        <option value="Final Round">Final Round</option>
                        <option value="Offer">Offer</option>
                        <option value="Rejected">Rejected</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="date-range-filter">Date Range</label>
                    <select id="date-range-filter">
                        <option value="all">All Time</option>
                        <option value="week">Last 7 Days</option>
                        <option value="month">Last 30 Days</option>
                        <option value="quarter">Last 90 Days</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="visa-filter">Visa Sponsorship</label>
                    <select id="visa-filter">
                        <option value="all">All</option>
                        <option value="true">Yes</option>
                        <option value="false">No</option>
                    </select>
                </div>
            </div>
            
            <!-- Sort Controls -->
            <div class="sort-controls">
                <label for="sort-select">Sort by:</label>
                <select id="sort-select">
                    <option value="date-desc">Newest First</option>
                    <option value="date-asc">Oldest First</option>
                    <option value="company-asc">Company (A-Z)</option>
                    <option value="company-desc">Company (Z-A)</option>
                    <option value="status">Status</option>
                </select>
            </div>
            
            <!-- Counter -->
            <div id="applications-counter" class="applications-counter">
                <span id="counter-text">Loading applications...</span>
            </div>
            
            <!-- Applications Container -->
            <div id="applications-container">
                <p id="no-apps-message">No applications yet. Add your first one above!</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>Built by Zawadi MC Nyachiya | <a href="https://github.com/Z3DDIEZ/Job-Tracker-Zawadi" target="_blank">View on GitHub</a></p>
    </footer>
	
	<!-- Firebase SDKs -->
	<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
	<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database-compat.js"></script>

    <!-- Vite entry point - TypeScript compiled to JavaScript -->
    <script type="module" src="/src/main.ts"></script>
</body>
</html>